<%- include('./header.ejs')%> <%- include('./sidebar.ejs')%>
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1 class="m-0">Admin Profile</h1>
        </div>
        <!-- /.col -->
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="/admin/dashboard">Home</a></li>
            <li class="breadcrumb-item active">Admin Profile</li>
          </ol>
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </div>
    <!-- /.container-fluid -->
  </div>
  <!-- /.content-header -->
  <!-- Main content -->
  <div class="container">
    <div class="row mt-5">
      <div class="col-lg-2"></div>
      <div class="col-lg-8">
        <div class="card mb-4">
          <div class="card-body text-center">
            <img src="<%= image.url %>" alt="avatar" class="rounded-circle img-fluid" style="width: 180px"
            />
            <h5 class="my-3"><%= name %></h5>
            <p class="text-muted mb-1">Email: <%= email %></p>
            <p class="text-muted mb-4">Admin, Jiwaji university</p>
            <div class=" mb-2">
              <button type="button" class="btn btn-primary ms-3" data-bs-toggle="modal" data-bs-target="#updateProfile" >
                Update Profile
              </button>
              <button type="button" class="btn btn-primary ms-3 " data-bs-toggle="modal" data-bs-target="#ChangePassword" >
                Change Password
              </button>
            </div>
          </div>
        </div>
       <center> <a href="/admin/dashboard" class="btn btn-info mb-3">Back To Dashboard</a></center>
        <div class="col-lg-2"></div>
      </div>
      <!--row end-->

      <!--updateProfile Modal -->
      <div class="modal fade" id="updateProfile" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">
                Profile Update
              </h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
              <form action="/updateProfile" method="post" enctype="multipart/form-data">
                <div class="mb-3">
                  <label for="">Name</label>
                  <input type="text" value="<%= name %>" name="name" class="form-control" />
                </div>
                <div class="mb-3">
                  <label for="">Email</label>
                  <input type="text" value="<%= email %>" name="email" class="form-control" />
                </div>
                <div class="mb-3">
                  <label for="">Image</label>
                  <input type="file" name="image" class="form-control" />
                  <img src="<%= image.url %>" alt="" width="50" />
                </div>
                <button type="submit" class="btn btn-success">
                  Update Profile
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!--End updateProfile Modal -->

      <!--Change Password Modal -->
      <div class="modal fade" id="ChangePassword" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">
                Change Password
              </h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" ><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
              <form action="/changePassword" method="post">
                <div class="mb-3">
                  <label for="">Old Password</label>
                  <input type="password" name="op" class="form-control" />
                </div>
                <div class="mb-3">
                  <label for="">New Password</label>
                  <input type="password" name="np" class="form-control" />
                </div>
                <div class="mb-3">
                  <label for="">Confirm Password</label>
                  <input type="password" name="cp" class="form-control" />
                </div>
                <button type="submit" class="btn btn-success">
                  Change Password
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!--End Change Password Modal -->
    </div>
    <!--container end-->
  </div>
</div>
<!-- content Wrapper -->
<%- include('./footer.ejs')%>
